<!DOCTYPE html>
<html>
    <head>
    <script type="text/javascript">
		function setColor(slider, textbox) {
			textbox.value = slider.value;
			var request = new XMLHttpRequest();
				// GET /output/color/level, and make an asynchronous request:
				request.open( "GET", '/output/' + textbox.id + "/" + slider.value, true );
				// close the request:
				request.send( null );
		}
	 </script>
	 
    <style>
body {
			background: #333;
			text-align: center;
			margin-top: 10%;
		}
		#videoCanvas {
			/* Always stretch the canvas to 640x480, regardless of its
			internal size. */
			width: 640px;
			height: 480px;
		}
    	#r{color:#cc0000;}    	
    	#g{color:#00cc00;}	
    	#b{color:#0000cc;}
    </style>
	 </head>
	<body>
<canvas id="videoCanvas" width="640" height="480">
		<p>
			Please use a browser that supports the Canvas Element, like
			<a href="http://www.google.com/chrome">Chrome</a>,
			<a href="http://www.mozilla.com/firefox/">Firefox</a>,
			<a href="http://www.apple.com/safari/">Safari</a> or Internet Explorer 10
		</p>
	</canvas>
		
	<!-- Slider -->
	
	<input type="range" id="redSlider" min="0" max="100"  onchange="setColor(this, r);">
	<input type="text" id="r" size=2><br>
	
	<input type="range" id="greenSlider" min="0" max="100" onchange="setColor(this, g);">
	<input type="text" id="g" size=2><br>
	
	<input type="range" id="blueSlider" min="0" max="100" onchange="setColor(this, b);">
	<input type="text" id="b" size=2><br>
	<script type="text/javascript" src="jsmpg.js"></script>
	<script type="text/javascript">
		// Setup the WebSocket connection and start the player
		var client = new WebSocket( 'ws://192.168.1.83:8084/' );

		var canvas = document.getElementById('videoCanvas');
		var player = new jsmpeg(client, {canvas:canvas});
	</script>
	</body>
</html>
